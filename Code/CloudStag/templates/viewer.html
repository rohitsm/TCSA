<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>TCSA Profile</title>

    <!-- Bootstrap core CSS -->
    <script src="../static/js/jquery-1.11.2.js"></script>
    <link href="../static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../static/css/viewer.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../static/css/style.css">
    <link href="../static/css/jquery.contextMenu.css" rel="stylesheet" type="text/css" />

  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">          
          <h3 id="page-header"><a class="masthead-brand" href="https://cloudstag.me/"><em>Cloud Stag</em></a></h3>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <div class="navbar-form navbar-right">
            <div class="form-group">
              <h4 id="welcome"> Welcome </h4>
            </div>
            <div class="btn-group">
              <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                <span class="caret"></span>          
              </button>
              <ul class="dropdown-menu" role="menu">
                <li><a href="https://cloudstag.me/user">Account Settings</a></li>
                <li class="divider"></li>
                <li><a href="{{url_for('logout')}}">Sign Out</a></li>
              </ul>
            </div>
          </div>
        </div><!--/.navbar-collapse -->
      </div>
    </nav>

    <!-- Main jumbotron -->
    <!-- <div class="jumbotron">
      <div class="container text-center"> -->
        <!-- <h4>Select files to upload</h4>
        
          <div class="row">
            <div id="encrypt" class="text-center">
              <div class="col-md-4 col-md-offset-3 col-sm-offset-4 col-xs-offset-2" id="encrypt">
                <input class="btn btn-default" type="file" id="fileInput" multiple>
              </div>
              <div class="col-md-1" id="encrypt">
                <button type="button" class="btn btn-danger">Upload</button>
              </div>
            </div>
          <hr>        
            <!-- <div class="col-md-4 col-md-offset-2" id="upload">
              <button type="button" class="btn btn-success btn-lg" >Upload</button>
            </div>
            <div class="col-md-4 col-md-offset-0" id="download">
              <button type="button" class="btn btn-danger btn-lg" >Download</button>
            </div>             
          < /div> -->
  
      <!-- </div>    
    </div> -->

    <div class="container">
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-md-2">
          <div class="panel panel-default text-center">
            <div class="panel-heading">Options
            </div>
            <div class="panel-body" id="sidebar">
              

              <span id="newFolderBtn"><button type="button" class="btn btn-success" id="newFolder" aria-expanded>New Folder</button></span>



            </div>
          </div>
        </div>
        <div class="col-md-10">
          <div class="panel panel-default ">
            <div class="panel-heading text-center">
              <span id="backBtn"><button type="button" class="btn btn-danger" id="back" aria-expanded>Back</button></span>
              <span id="homeBtn"><button type="button" class="btn btn-primary" id="home" aria-expanded>Home</button></span>
              
            </div>
            <div class="panel-body" id="mainbar">
              

              <div class="contextMenuField"> 
                  <div id="status"> </div>
                  
                      <div class="row" id="fileRegion">
                      </br>
                        <div class="col-md-5">
                          <span class="btn btn-success btn-file">
                              <input type="file" id="fileInput" multiple>
                          </span>
                        </div>
                        <div class="col-md-5">
                            <button type="button" class="btn btn-danger" id="encrypt" aria-expanded>Encrypt</button>
                        </div>
                    </div>
                      </br></br>
                      <button type="button" class="btn btn-warning" id="upload" aria-expanded>Upload</button>
                </div>


            </div>
          </div>
        </div>
    </div> <!-- /container -->


    <footer class="footer">
      <div class="container">
        <p class="text-center">Copyright Â© Cloud Storage Aggregator | A project under the <a href="http://pdcc.ntu.edu.sg/sands">Sands research</a> group.</p>
      </div>
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="http://code.jquery.com/jquery-latest.min.js"> </script>
    <script src="../static/js/jquery-1.11.2.js"></script>
    <script src="../static/js/SHA.js"></script>
    <script src="../static/js/jquery.contextMenu.js" ></script>
    <script src="../static/js/TreeModel-min.js"></script>
    <script src="../static/js/metadataEncryption.js"></script>
    <script src="../static/js/ui.js"></script>
    <script src="../static/js/fileencrypt.js"></script>
    <script src="../static/js/filedecrypt.js"></script>
    <script src="../static/js/FileSaver.js"></script>
    <script src="../static/js/AES_CV.js"></script>
    <script src="../static/js/AES_ctr.js"></script>
    <script src="../static/js/deletefile.js"></script>
    <script src="../static/js/metadata.js"></script>
    <script type="text/javascript" class="showcase">
    var item = "";
    $(function(e){
        $.contextMenu({
            selector: '.haha', 
            callback: function(key, options) {
                var m = "clicked: " + key;
                if(key==="delete"){
                  var username= "admin@tcsa.com";
                  var filename= localStorage.getItem("path");
                  filename+="/"+item;
                  var todelete=filename;
                  filename = password.substring(0,10) + filename;
                  filename = Sha256.hash(filename);
                  alert("deleting " + filename);
                  deleteFile(username,filename,todelete);
                  
                }
                //window.console && console.log(m) || alert(m); 
            },
            items: {
                "delete": {name: "Delete", icon: "delete"},
                "sep1": "---------",
                "newFolder": { name: "New Folder", icon: "Folder"},
                "quit": {name: "Quit", icon: "quit"}
            }
        });
        
        $('.haha').on('mousedown', function(e){
          if(e.which==3) {
            item = $(e.target).text();
            console.log('clicked', item);
          }
        })
    });
    </script>
   
  </body>
</html>
